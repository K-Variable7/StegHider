#!/bin/bash

# StegHider Extension Testing Script

echo "üß™ StegHider Extension Testing Guide"
echo "===================================="
echo ""

echo "üìã PRE-TEST CHECKLIST:"
echo "1. ‚úÖ Extension files validated"
echo "2. ‚úÖ Manifest JSON is valid"
echo "3. ‚úÖ StegHider class implemented"
echo "4. ‚úÖ Test page opened in browser"
echo ""

echo "üîß MANUAL TESTING STEPS:"
echo ""

echo "STEP 1: Load Extension in Browser"
echo "----------------------------------"
echo "‚Ä¢ Chrome: Open chrome://extensions/"
echo "‚Ä¢ Firefox: Open about:debugging"
echo "‚Ä¢ Enable 'Developer mode' (Chrome)"
echo "‚Ä¢ Click 'Load unpacked' (Chrome) or 'Load Temporary Add-on' (Firefox)"
echo "‚Ä¢ Select: /home/fvckf/projects-one/steg-image-hider/extension/"
echo "‚Ä¢ Extension should appear with StegHider icon"
echo ""

echo "STEP 2: Test Popup Interface"
echo "----------------------------"
echo "‚Ä¢ Navigate to any website with images (like news sites)"
echo "‚Ä¢ Click the StegHider icon in browser toolbar"
echo "‚Ä¢ Test each tab: Hide, Extract, MetaWipe"
echo "‚Ä¢ Try hiding a message in the largest image on page"
echo "‚Ä¢ Try extracting from the modified image"
echo ""

echo "STEP 3: Test Context Menus"
echo "--------------------------"
echo "‚Ä¢ Right-click on any image"
echo "‚Ä¢ Look for: 'Hide Secret in Image', 'Extract Secret from Image', 'MetaWipe Image'"
echo "‚Ä¢ Test MetaWipe - should download a cleaned image"
echo ""

echo "STEP 4: Test Test Page"
echo "----------------------"
echo "‚Ä¢ Open extension/test.html in browser"
echo "‚Ä¢ Test hide/extract with and without passwords"
echo "‚Ä¢ Check browser console (F12) for detailed logs"
echo "‚Ä¢ Verify images update with hidden data"
echo ""

echo "STEP 5: Test Error Handling"
echo "---------------------------"
echo "‚Ä¢ Try hiding messages in very small images"
echo "‚Ä¢ Try extracting from unmodified images"
echo "‚Ä¢ Test with wrong passwords"
echo "‚Ä¢ Check error messages are user-friendly"
echo ""

echo "üéØ EXPECTED RESULTS:"
echo "‚Ä¢ Hide: Image should be modified with hidden data"
echo "‚Ä¢ Extract: Should recover original message"
echo "‚Ä¢ MetaWipe: Should download EXIF-cleaned image"
echo "‚Ä¢ Password: Should encrypt/decrypt properly"
echo "‚Ä¢ No errors in browser console"
echo ""

echo "üêõ DEBUGGING TIPS:"
echo "‚Ä¢ Check browser console (F12) for JavaScript errors"
echo "‚Ä¢ Extension popup may need refresh after loading"
echo "‚Ä¢ Some websites block extensions - try different sites"
echo "‚Ä¢ CORS issues may occur with external images"
echo ""

echo "üìä TEST RESULTS TEMPLATE:"
echo "Popup Interface: [PASS/FAIL] - Notes:"
echo "Context Menus: [PASS/FAIL] - Notes:"
echo "Hide Function: [PASS/FAIL] - Notes:"
echo "Extract Function: [PASS/FAIL] - Notes:"
echo "MetaWipe: [PASS/FAIL] - Notes:"
echo "Password Encryption: [PASS/FAIL] - Notes:"
echo ""

echo "üöÄ Ready to test! Load the extension and start with Step 1."